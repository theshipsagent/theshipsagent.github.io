<!-- Photo Gallery Section -->
<section id="images" class="report-section">
  <div class="section-header">
    <div class="section-title-group">
      <h2 class="section-title">Photo Gallery</h2>
      <span class="source-count">15 images | 3 categories</span>
    </div>
    <p class="section-description">
      Historical and contemporary photographic documentation of the Port Sulphur Terminal facility,
      spanning from 1940s Library of Congress archives through modern aerial surveys and regulatory documentation.
    </p>
    <!-- Placeholder Notice -->
    <div style="margin-top: 1rem; padding: 1rem; background: rgba(255, 193, 7, 0.1); border: 2px solid rgba(255, 193, 7, 0.3); border-radius: 8px;">
      <p style="color: #ffc107; font-weight: 600; margin-bottom: 0.5rem; font-size: 0.95rem;">
        üìå Note: Placeholder Images
      </p>
      <p style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem; line-height: 1.6; margin: 0;">
        Image files are referenced from source documents but not included in this demo. Placeholders shown for layout demonstration.
        All metadata, captions, filtering, and lightbox functionality remain fully operational.
      </p>
    </div>
  </div>

  <!-- Gallery Controls -->
  <div class="gallery-controls">
    <!-- Category Filters -->
    <div class="filter-group">
      <label class="filter-label">Filter by Category:</label>
      <div class="filter-buttons">
        <button class="filter-btn active" data-category="all" onclick="filterGallery('all')">
          All Images <span class="count">(15)</span>
        </button>
        <button class="filter-btn" data-category="historical" onclick="filterGallery('historical')">
          <span class="category-icon">üì∑</span> Historical <span class="count">(6)</span>
        </button>
        <button class="filter-btn" data-category="aerial" onclick="filterGallery('aerial')">
          <span class="category-icon">üõ∞Ô∏è</span> Aerial & Satellite <span class="count">(8)</span>
        </button>
        <button class="filter-btn" data-category="regulatory" onclick="filterGallery('regulatory')">
          <span class="category-icon">üìã</span> Regulatory <span class="count">(1)</span>
        </button>
      </div>
    </div>

    <!-- Timeline Filter -->
    <div class="filter-group">
      <label class="filter-label">Timeline:</label>
      <div class="timeline-controls">
        <button class="timeline-btn active" data-period="all" onclick="filterByTimeline('all')">
          All Years
        </button>
        <button class="timeline-btn" data-period="1940s" onclick="filterByTimeline('1940s')">
          1940s (WWII Era)
        </button>
        <button class="timeline-btn" data-period="2020s" onclick="filterByTimeline('2020s')">
          2020s (Current)
        </button>
      </div>
    </div>

    <!-- View Toggle -->
    <div class="filter-group">
      <label class="filter-label">View:</label>
      <div class="view-toggle">
        <button class="view-btn active" data-view="grid" onclick="toggleView('grid')" title="Grid View">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
            <rect x="1" y="1" width="8" height="8" rx="1"/>
            <rect x="11" y="1" width="8" height="8" rx="1"/>
            <rect x="1" y="11" width="8" height="8" rx="1"/>
            <rect x="11" y="11" width="8" height="8" rx="1"/>
          </svg>
          Grid
        </button>
        <button class="view-btn" data-view="map" onclick="toggleView('map')" title="Map View">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
            <path d="M10 2C6.69 2 4 4.69 4 8c0 4.5 6 10 6 10s6-5.5 6-10c0-3.31-2.69-6-6-6zm0 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/>
          </svg>
          Map
        </button>
      </div>
    </div>
  </div>

  <!-- Image Grid -->
  <div class="gallery-grid active" id="gallery-grid-view">
    <!-- Historical Images (1940s) -->
    <div class="gallery-item" data-category="historical" data-period="1940s" data-id="img_001">
      <div class="image-wrapper">
        <img
          src="https://via.placeholder.com/800x600/1a1a2e/64ffb4?text=Historical+Image+1"
          alt="Sulphur Conveyor Belt and Dock Infrastructure"
          loading="lazy"
          onclick="openLightbox('img_001')"
        />
        <div class="image-overlay">
          <div class="image-meta">
            <span class="category-badge historical">Historical</span>
            <span class="date-badge">1940s</span>
          </div>
        </div>
      </div>
      <div class="image-caption">
        <h4 class="image-title">Sulphur Conveyor Belt and Dock Infrastructure</h4>
        <p class="image-description">
          Conveyor belt systems and sulphur loading dock facilities at the Port Sulphur terminal.
          <span class="archive-ref">OWI 33875 D</span>
        </p>
        <p class="image-source">Library of Congress - Office of War Information Collection</p>
      </div>
    </div>

    <div class="gallery-item" data-category="historical" data-period="1940s" data-id="img_002">
      <div class="image-wrapper">
        <img
          src="https://via.placeholder.com/800x600/1a1a2e/64ffb4?text=Historical+Image+2"
          alt="Sulphur Barge Loading Operations"
          loading="lazy"
          onclick="openLightbox('img_002')"
        />
        <div class="image-overlay">
          <div class="image-meta">
            <span class="category-badge historical">Historical</span>
            <span class="date-badge">1940s</span>
          </div>
        </div>
      </div>
      <div class="image-caption">
        <h4 class="image-title">Sulphur Barge Loading Operations</h4>
        <p class="image-description">
          Aerial view of a barge loaded with sulphur at the Port Sulphur dock facility.
          <span class="archive-ref">OWI 478832 IMO</span>
        </p>
        <p class="image-source">Library of Congress - Office of War Information Collection</p>
      </div>
    </div>

    <div class="gallery-item" data-category="historical" data-period="1940s" data-id="img_003">
      <div class="image-wrapper">
        <img
          src="https://via.placeholder.com/800x600/1a1a2e/64ffb4?text=Historical+Image+3"
          alt="Dock Pipework and Industrial Infrastructure"
          loading="lazy"
          onclick="openLightbox('img_003')"
        />
        <div class="image-overlay">
          <div class="image-meta">
            <span class="category-badge historical">Historical</span>
            <span class="date-badge">1940s</span>
          </div>
        </div>
      </div>
      <div class="image-caption">
        <h4 class="image-title">Dock Pipework and Industrial Infrastructure</h4>
        <p class="image-description">
          Extensive pipework and sulphur processing equipment, water tower, and facility buildings.
          <span class="archive-ref">OWI 33875 D</span>
        </p>
        <p class="image-source">Library of Congress - Office of War Information Collection</p>
      </div>
    </div>

    <div class="gallery-item" data-category="historical" data-period="1940s" data-id="img_004">
      <div class="image-wrapper">
        <img
          src="https://via.placeholder.com/800x600/1a1a2e/64ffb4?text=Historical+Image+4"
          alt="Waterfront Facilities and Towboats"
          loading="lazy"
          onclick="openLightbox('img_004')"
        />
        <div class="image-overlay">
          <div class="image-meta">
            <span class="category-badge historical">Historical</span>
            <span class="date-badge">1940s</span>
          </div>
        </div>
      </div>
      <div class="image-caption">
        <h4 class="image-title">Waterfront Facilities and Towboats</h4>
        <p class="image-description">
          Towboats including the 'Homer A. Burnell' moored at the dock, with processing buildings and employee housing.
          <span class="archive-ref">OWI 33880 D</span>
        </p>
        <p class="image-source">Library of Congress - Office of War Information Collection</p>
      </div>
    </div>

    <div class="gallery-item" data-category="historical" data-period="1940s" data-id="img_005">
      <div class="image-wrapper">
        <img
          src="https://via.placeholder.com/800x600/1a1a2e/64ffb4?text=Historical+Image+5"
          alt="Port Sulphur Company Town Overview"
          loading="lazy"
          onclick="openLightbox('img_005')"
        />
        <div class="image-overlay">
          <div class="image-meta">
            <span class="category-badge historical">Historical</span>
            <span class="date-badge">1940s</span>
          </div>
        </div>
      </div>
      <div class="image-caption">
        <h4 class="image-title">Port Sulphur Company Town Overview</h4>
        <p class="image-description">
          Wide-angle view showing employee housing, water tower, and surrounding landscape.
          <span class="archive-ref">OWI 33881 D</span>
        </p>
        <p class="image-source">Library of Congress - Office of War Information Collection</p>
      </div>
    </div>

    <div class="gallery-item" data-category="historical" data-period="1940s" data-id="img_006">
      <div class="image-wrapper">
        <img
          src="https://via.placeholder.com/800x600/1a1a2e/64ffb4?text=Historical+Image+6"
          alt="Gantry Crane and Barge Loading Operations"
          loading="lazy"
          onclick="openLightbox('img_006')"
        />
        <div class="image-overlay">
          <div class="image-meta">
            <span class="category-badge historical">Historical</span>
            <span class="date-badge">1940s</span>
          </div>
        </div>
      </div>
      <div class="image-caption">
        <h4 class="image-title">Gantry Crane and Barge Loading Operations</h4>
        <p class="image-description">
          Detailed view of gantry crane loading sulphur onto a barge, showing conveyor systems and dry sulphur storage.
          <span class="archive-ref">OWI 33912 D</span>
        </p>
        <p class="image-source">Library of Congress - Office of War Information Collection</p>
      </div>
    </div>

    <!-- Aerial/Satellite Images (2020s) -->
    <div class="gallery-item" data-category="aerial" data-period="2020s" data-id="img_007">
      <div class="image-wrapper">
        <img
          src="https://via.placeholder.com/800x600/1a1a2e/0074D9?text=Aerial+Image+1"
          alt="Property Boundary GIS View"
          loading="lazy"
          onclick="openLightbox('img_007')"
        />
        <div class="image-overlay">
          <div class="image-meta">
            <span class="category-badge aerial">Aerial</span>
            <span class="date-badge">2025-09-15</span>
          </div>
        </div>
      </div>
      <div class="image-caption">
        <h4 class="image-title">Property Boundary GIS View</h4>
        <p class="image-description">
          GIS public viewer showing property boundaries, parcel information, and aerial imagery along the Mississippi River.
        </p>
        <p class="image-source">GIS Public Viewer / Property Records System</p>
      </div>
    </div>

    <div class="gallery-item" data-category="aerial" data-period="2020s" data-id="img_008">
      <div class="image-wrapper">
        <img
          src="https://via.placeholder.com/800x600/1a1a2e/0074D9?text=Aerial+Image+2"
          alt="Property Boundary GIS View - Alternate Angle"
          loading="lazy"
          onclick="openLightbox('img_008')"
        />
        <div class="image-overlay">
          <div class="image-meta">
            <span class="category-badge aerial">Aerial</span>
            <span class="date-badge">2025-09-15</span>
          </div>
        </div>
      </div>
      <div class="image-caption">
        <h4 class="image-title">Property Boundary GIS View - Alternate Angle</h4>
        <p class="image-description">
          Detailed property boundary delineation and parcel data for the Port Sulphur terminal site.
        </p>
        <p class="image-source">GIS Public Viewer / Property Records System</p>
      </div>
    </div>

    <div class="gallery-item" data-category="aerial" data-period="2020s" data-id="img_009">
      <div class="image-wrapper">
        <img
          src="https://via.placeholder.com/800x600/1a1a2e/0074D9?text=Aerial+Image+3"
          alt="Property Assessment GIS Data"
          loading="lazy"
          onclick="openLightbox('img_009')"
        />
        <div class="image-overlay">
          <div class="image-meta">
            <span class="category-badge aerial">Aerial</span>
            <span class="date-badge">2025-09-15</span>
          </div>
        </div>
      </div>
      <div class="image-caption">
        <h4 class="image-title">Property Assessment GIS Data</h4>
        <p class="image-description">
          GIS viewer displaying property assessment data and boundary information for due diligence analysis.
        </p>
        <p class="image-source">GIS Public Viewer / Property Records System</p>
      </div>
    </div>

    <div class="gallery-item" data-category="aerial" data-period="2020s" data-id="img_010">
      <div class="image-wrapper">
        <img
          src="https://via.placeholder.com/800x600/1a1a2e/0074D9?text=Aerial+Image+4"
          alt="Parcel Boundary Detail View"
          loading="lazy"
          onclick="openLightbox('img_010')"
        />
        <div class="image-overlay">
          <div class="image-meta">
            <span class="category-badge aerial">Aerial</span>
            <span class="date-badge">2025-09-15</span>
          </div>
        </div>
      </div>
      <div class="image-caption">
        <h4 class="image-title">Parcel Boundary Detail View</h4>
        <p class="image-description">
          Detailed GIS view of parcel boundaries and property configuration along the Mississippi River waterfront.
        </p>
        <p class="image-source">GIS Public Viewer / Property Records System</p>
      </div>
    </div>

    <div class="gallery-item" data-category="aerial" data-period="2020s" data-id="img_011">
      <div class="image-wrapper">
        <img
          src="https://via.placeholder.com/800x600/1a1a2e/0074D9?text=Aerial+Image+5"
          alt="Plaquemines Parish Parcel Assessor View"
          loading="lazy"
          onclick="openLightbox('img_011')"
        />
        <div class="image-overlay">
          <div class="image-meta">
            <span class="category-badge aerial">Aerial</span>
            <span class="date-badge">2025-09-15</span>
          </div>
        </div>
      </div>
      <div class="image-caption">
        <h4 class="image-title">Plaquemines Parish Parcel Assessor View</h4>
        <p class="image-description">
          Parish tax assessor parcel viewer showing detailed property information, boundaries, and color-coded land use zones.
        </p>
        <p class="image-source">Plaquemines Parish Assessor GIS System</p>
      </div>
    </div>

    <div class="gallery-item" data-category="aerial" data-period="2020s" data-id="img_012">
      <div class="image-wrapper">
        <img
          src="https://via.placeholder.com/800x600/1a1a2e/0074D9?text=Aerial+Image+6"
          alt="Regional Context Aerial View"
          loading="lazy"
          onclick="openLightbox('img_012')"
        />
        <div class="image-overlay">
          <div class="image-meta">
            <span class="category-badge aerial">Aerial</span>
            <span class="date-badge">2025-09-15</span>
          </div>
        </div>
      </div>
      <div class="image-caption">
        <h4 class="image-title">Regional Context Aerial View</h4>
        <p class="image-description">
          Wide-area aerial/satellite view showing regional context in relation to surrounding properties and Mississippi River configuration.
        </p>
        <p class="image-source">Satellite/Aerial Imagery Platform</p>
      </div>
    </div>

    <div class="gallery-item" data-category="aerial" data-period="2020s" data-id="img_013">
      <div class="image-wrapper">
        <img
          src="https://via.placeholder.com/800x600/1a1a2e/0074D9?text=Aerial+Image+7"
          alt="Site Context Aerial Imagery"
          loading="lazy"
          onclick="openLightbox('img_013')"
        />
        <div class="image-overlay">
          <div class="image-meta">
            <span class="category-badge aerial">Aerial</span>
            <span class="date-badge">2025-09-15</span>
          </div>
        </div>
      </div>
      <div class="image-caption">
        <h4 class="image-title">Site Context Aerial Imagery</h4>
        <p class="image-description">
          Aerial view providing context for the Port Sulphur terminal site location and surrounding area.
        </p>
        <p class="image-source">Aerial Imagery Platform</p>
      </div>
    </div>

    <div class="gallery-item" data-category="aerial" data-period="2020s" data-id="img_014">
      <div class="image-wrapper">
        <img
          src="https://via.placeholder.com/800x600/1a1a2e/0074D9?text=Aerial+Image+8"
          alt="Detailed Site Aerial View"
          loading="lazy"
          onclick="openLightbox('img_014')"
        />
        <div class="image-overlay">
          <div class="image-meta">
            <span class="category-badge aerial">Aerial</span>
            <span class="date-badge">2025-09-15</span>
          </div>
        </div>
      </div>
      <div class="image-caption">
        <h4 class="image-title">Detailed Site Aerial View</h4>
        <p class="image-description">
          Detailed aerial photograph showing the Port Sulphur terminal site configuration and immediate surroundings.
        </p>
        <p class="image-source">Aerial Imagery Platform</p>
      </div>
    </div>

    <!-- Regulatory Documents (2020s) -->
    <div class="gallery-item" data-category="regulatory" data-period="2020s" data-id="img_015">
      <div class="image-wrapper">
        <img
          src="https://via.placeholder.com/800x600/1a1a2e/FFA500?text=Regulatory+Document"
          alt="EPA ECHO Facility Report"
          loading="lazy"
          onclick="openLightbox('img_015')"
        />
        <div class="image-overlay">
          <div class="image-meta">
            <span class="category-badge regulatory">Regulatory</span>
            <span class="date-badge">2025-09-19</span>
          </div>
        </div>
      </div>
      <div class="image-caption">
        <h4 class="image-title">EPA ECHO Facility Report</h4>
        <p class="image-description">
          EPA ECHO (Enforcement and Compliance History Online) Detailed Facility Report for Freeport McMoRan Energy LLC - Port Sulphur Facility.
          <span class="archive-ref">FRS ID: 110022408321</span>
        </p>
        <p class="image-source">EPA ECHO Database</p>
      </div>
    </div>
  </div>

  <!-- Map View (Initially Hidden) -->
  <div class="gallery-map" id="gallery-map-view" style="display: none;">
    <div id="image-map" class="map-container">
      <!-- Map will be initialized by Leaflet.js -->
      <div class="map-placeholder">
        <p>Map view showing geolocated images</p>
        <p class="map-coordinates">Center: 29.473414¬∞N, 89.686632¬∞W</p>
        <p class="map-note">All 15 images are located at the Port Sulphur Terminal site</p>
      </div>
    </div>
    <div class="map-legend">
      <h4>Legend</h4>
      <div class="legend-item">
        <span class="legend-marker historical"></span>
        <span>Historical (1940s)</span>
      </div>
      <div class="legend-item">
        <span class="legend-marker aerial"></span>
        <span>Aerial & Satellite (2025)</span>
      </div>
      <div class="legend-item">
        <span class="legend-marker regulatory"></span>
        <span>Regulatory Documents (2025)</span>
      </div>
    </div>
  </div>

  <!-- Results Counter -->
  <div class="gallery-results">
    <p id="results-counter">Showing <strong>15</strong> of <strong>15</strong> images</p>
  </div>
</section>

<!-- Lightbox Modal -->
<div id="lightbox-modal" class="lightbox" style="display: none;">
  <div class="lightbox-backdrop" onclick="closeLightbox()"></div>
  <div class="lightbox-content">
    <button class="lightbox-close" onclick="closeLightbox()" aria-label="Close lightbox">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>

    <button class="lightbox-nav lightbox-prev" onclick="navigateLightbox(-1)" aria-label="Previous image">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="15 18 9 12 15 6"></polyline>
      </svg>
    </button>

    <button class="lightbox-nav lightbox-next" onclick="navigateLightbox(1)" aria-label="Next image">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </button>

    <div class="lightbox-image-container">
      <img id="lightbox-image" src="" alt="" />
    </div>

    <div class="lightbox-info">
      <div class="lightbox-header">
        <h3 id="lightbox-title"></h3>
        <div class="lightbox-badges">
          <span id="lightbox-category" class="category-badge"></span>
          <span id="lightbox-date" class="date-badge"></span>
        </div>
      </div>
      <p id="lightbox-description"></p>
      <div class="lightbox-metadata">
        <p id="lightbox-source"></p>
        <p id="lightbox-archive-ref"></p>
        <p id="lightbox-context"></p>
      </div>
      <div class="lightbox-counter">
        <span id="lightbox-current">1</span> / <span id="lightbox-total">15</span>
      </div>
    </div>
  </div>
</div>

<!-- Gallery JavaScript -->
<script>
// Image database from images_data.json
const galleryImages = [
  {
    id: 'img_001', category: 'historical', period: '1940s',
    title: 'Sulphur Conveyor Belt and Dock Infrastructure',
    description: 'Black and white photograph showing conveyor belt systems and sulphur loading dock facilities at the Port Sulphur terminal. Visible infrastructure includes conveyor mechanisms, storage areas, and dock buildings.',
    source: 'Library of Congress - Office of War Information Collection',
    archiveRef: 'OWI 33875 D',
    context: 'Freeport Sulphur Company operated this facility from 1933-2005 as a logistics, refining, storage and shipping hub for sulphur operations. During WWII, sulphur was a critical strategic material for munitions production.',
    imgSrc: 'https://via.placeholder.com/800x600/1a1a2e/64ffb4?text=Historical+Image+1'
  },
  {
    id: 'img_002', category: 'historical', period: '1940s',
    title: 'Sulphur Barge Loading Operations',
    description: 'Aerial view of a barge loaded with sulphur at the Port Sulphur dock facility. The image shows conveyor systems, waterway access, and adjacent storage areas.',
    source: 'Library of Congress - Office of War Information Collection',
    archiveRef: 'OWI 478832 IMO',
    context: 'This image captures the barge loading operations that were central to the facility\'s mission of shipping processed sulphur via the Mississippi River to Gulf of Mexico ports.',
    imgSrc: 'https://via.placeholder.com/800x600/1a1a2e/64ffb4?text=Historical+Image+2'
  },
  {
    id: 'img_003', category: 'historical', period: '1940s',
    title: 'Dock Pipework and Industrial Infrastructure',
    description: 'View down the dock showing extensive pipework and industrial infrastructure including sulphur processing equipment, water tower, and facility buildings.',
    source: 'Library of Congress - Office of War Information Collection',
    archiveRef: 'OWI 33875 D',
    context: 'The extensive pipework system transported hot molten sulphur from storage tanks to loading facilities. The Frasch Process required maintaining sulphur at high temperatures during transport and loading.',
    imgSrc: 'https://via.placeholder.com/800x600/1a1a2e/64ffb4?text=Historical+Image+3'
  },
  {
    id: 'img_004', category: 'historical', period: '1940s',
    title: 'Waterfront Facilities and Towboats',
    description: 'View of waterfront showing towboats including the \'Homer A. Burnell\' moored at the dock, with processing buildings and employee housing visible in the background.',
    source: 'Library of Congress - Office of War Information Collection',
    archiveRef: 'OWI 33880 D',
    context: 'Port Sulphur functioned as a company town with Freeport Sulphur providing housing and infrastructure for workers. The towboat fleet was essential for managing barge traffic on the Mississippi River.',
    imgSrc: 'https://via.placeholder.com/800x600/1a1a2e/64ffb4?text=Historical+Image+4'
  },
  {
    id: 'img_005', category: 'historical', period: '1940s',
    title: 'Port Sulphur Company Town Overview',
    description: 'Wide-angle view of the Port Sulphur company town showing employee housing, water tower, and surrounding landscape.',
    source: 'Library of Congress - Office of War Information Collection',
    archiveRef: 'OWI 33881 D',
    context: 'Freeport Sulphur developed Port Sulphur as a planned community to support its industrial operations, providing housing and amenities for workers and their families from 1933 until operations ceased.',
    imgSrc: 'https://via.placeholder.com/800x600/1a1a2e/64ffb4?text=Historical+Image+5'
  },
  {
    id: 'img_006', category: 'historical', period: '1940s',
    title: 'Gantry Crane and Barge Loading Operations',
    description: 'Detailed view of a gantry crane in operation loading sulphur onto a barge. Shows conveyor systems, loading mechanisms, and dry sulphur storage.',
    source: 'Library of Congress - Office of War Information Collection',
    archiveRef: 'OWI 33912 D',
    context: 'The facility employed \'vatting\' operations creating acres of dry sulphur storage blocks, visible in this image. Gantry cranes and conveyors moved material from storage to barges for shipment.',
    imgSrc: 'https://via.placeholder.com/800x600/1a1a2e/64ffb4?text=Historical+Image+6'
  },
  {
    id: 'img_007', category: 'aerial', period: '2020s',
    title: 'Property Boundary GIS View',
    description: 'GIS public viewer screenshot showing property boundaries, parcel information, and aerial imagery of the Port Sulphur terminal site along the Mississippi River.',
    source: 'GIS Public Viewer / Property Records System',
    archiveRef: null,
    context: 'Current property status following cessation of operations in early 2000s and Hurricane Katrina damage in 2005. Site is being evaluated for redevelopment as a maritime terminal.',
    imgSrc: 'https://via.placeholder.com/800x600/1a1a2e/0074D9?text=Aerial+Image+1'
  },
  {
    id: 'img_008', category: 'aerial', period: '2020s',
    title: 'Property Boundary GIS View - Alternate Angle',
    description: 'Additional GIS public viewer screenshot showing detailed property boundary delineation and parcel data for the Port Sulphur terminal site.',
    source: 'GIS Public Viewer / Property Records System',
    archiveRef: null,
    context: 'Property records and GIS data used for due diligence analysis of the former industrial site.',
    imgSrc: 'https://via.placeholder.com/800x600/1a1a2e/0074D9?text=Aerial+Image+2'
  },
  {
    id: 'img_009', category: 'aerial', period: '2020s',
    title: 'Property Assessment GIS Data',
    description: 'GIS viewer screenshot displaying property assessment data and boundary information for due diligence analysis.',
    source: 'GIS Public Viewer / Property Records System',
    archiveRef: null,
    context: 'Tax parcel and assessment data for the former Freeport McMoRan facility site.',
    imgSrc: 'https://via.placeholder.com/800x600/1a1a2e/0074D9?text=Aerial+Image+3'
  },
  {
    id: 'img_010', category: 'aerial', period: '2020s',
    title: 'Parcel Boundary Detail View',
    description: 'Detailed GIS view of parcel boundaries and property configuration along the Mississippi River waterfront.',
    source: 'GIS Public Viewer / Property Records System',
    archiveRef: null,
    context: 'Current property configuration showing waterfront access critical for maritime terminal operations.',
    imgSrc: 'https://via.placeholder.com/800x600/1a1a2e/0074D9?text=Aerial+Image+4'
  },
  {
    id: 'img_011', category: 'aerial', period: '2020s',
    title: 'Plaquemines Parish Parcel Assessor View',
    description: 'Plaquemines Parish tax assessor parcel viewer showing detailed property information, boundaries, and surrounding parcels with color-coded land use zones.',
    source: 'Plaquemines Parish Assessor GIS System',
    archiveRef: null,
    context: 'Parish tax records showing current ownership and assessment status of the former industrial facility.',
    imgSrc: 'https://via.placeholder.com/800x600/1a1a2e/0074D9?text=Aerial+Image+5'
  },
  {
    id: 'img_012', category: 'aerial', period: '2020s',
    title: 'Regional Context Aerial View',
    description: 'Wide-area aerial/satellite view showing regional context of the Port Sulphur site in relation to surrounding properties and Mississippi River configuration.',
    source: 'Satellite/Aerial Imagery Platform',
    archiveRef: null,
    context: 'Regional view showing the site\'s strategic location on the Mississippi River between New Orleans and the Gulf of Mexico.',
    imgSrc: 'https://via.placeholder.com/800x600/1a1a2e/0074D9?text=Aerial+Image+6'
  },
  {
    id: 'img_013', category: 'aerial', period: '2020s',
    title: 'Site Context Aerial Imagery',
    description: 'Aerial view providing context for the Port Sulphur terminal site location and surrounding area.',
    source: 'Aerial Imagery Platform',
    archiveRef: null,
    context: 'Current aerial view showing post-Katrina site conditions and surrounding development.',
    imgSrc: 'https://via.placeholder.com/800x600/1a1a2e/0074D9?text=Aerial+Image+7'
  },
  {
    id: 'img_014', category: 'aerial', period: '2020s',
    title: 'Detailed Site Aerial View',
    description: 'Detailed aerial photograph showing the Port Sulphur terminal site configuration and immediate surroundings.',
    source: 'Aerial Imagery Platform',
    archiveRef: null,
    context: 'Detailed view of current site conditions for development planning and engineering assessment.',
    imgSrc: 'https://via.placeholder.com/800x600/1a1a2e/0074D9?text=Aerial+Image+8'
  },
  {
    id: 'img_015', category: 'regulatory', period: '2020s',
    title: 'EPA ECHO Facility Report',
    description: 'EPA ECHO (Enforcement and Compliance History Online) Detailed Facility Report for Freeport McMoRan Energy LLC - Port Sulphur Facility, showing compliance status, enforcement history, and regulatory information. Address: 28310 HWY 23, Port Sulphur, LA 70083.',
    source: 'EPA ECHO Database',
    archiveRef: 'FRS ID: 110022408321',
    context: 'EPA regulatory compliance history for the former Freeport McMoRan facility, showing environmental monitoring and enforcement activities through 2003 when operations were winding down.',
    imgSrc: 'https://via.placeholder.com/800x600/1a1a2e/FFA500?text=Regulatory+Document'
  }
];

// Current filter state
let currentCategory = 'all';
let currentPeriod = 'all';
let currentView = 'grid';
let currentLightboxIndex = 0;
let filteredImages = [...galleryImages];

// Filter gallery by category
function filterGallery(category) {
  currentCategory = category;
  applyFilters();

  // Update active button
  document.querySelectorAll('.filter-btn').forEach(btn => {
    btn.classList.remove('active');
    if (btn.dataset.category === category) {
      btn.classList.add('active');
    }
  });
}

// Filter by timeline period
function filterByTimeline(period) {
  currentPeriod = period;
  applyFilters();

  // Update active button
  document.querySelectorAll('.timeline-btn').forEach(btn => {
    btn.classList.remove('active');
    if (btn.dataset.period === period) {
      btn.classList.add('active');
    }
  });
}

// Apply all filters
function applyFilters() {
  const items = document.querySelectorAll('.gallery-item');
  let visibleCount = 0;

  filteredImages = galleryImages.filter(img => {
    const categoryMatch = currentCategory === 'all' || img.category === currentCategory;
    const periodMatch = currentPeriod === 'all' || img.period === currentPeriod;
    return categoryMatch && periodMatch;
  });

  items.forEach(item => {
    const category = item.dataset.category;
    const period = item.dataset.period;

    const categoryMatch = currentCategory === 'all' || category === currentCategory;
    const periodMatch = currentPeriod === 'all' || period === currentPeriod;

    if (categoryMatch && periodMatch) {
      item.style.display = '';
      visibleCount++;
    } else {
      item.style.display = 'none';
    }
  });

  // Update results counter
  document.getElementById('results-counter').innerHTML =
    `Showing <strong>${visibleCount}</strong> of <strong>${galleryImages.length}</strong> images`;
}

// Toggle between grid and map view
function toggleView(view) {
  currentView = view;

  const gridView = document.getElementById('gallery-grid-view');
  const mapView = document.getElementById('gallery-map-view');

  if (view === 'grid') {
    gridView.style.display = '';
    mapView.style.display = 'none';
  } else if (view === 'map') {
    gridView.style.display = 'none';
    mapView.style.display = 'block';
    // Initialize map if needed
    initializeMap();
  }

  // Update active button
  document.querySelectorAll('.view-btn').forEach(btn => {
    btn.classList.remove('active');
    if (btn.dataset.view === view) {
      btn.classList.add('active');
    }
  });
}

// Open lightbox
function openLightbox(imageId) {
  const imageData = galleryImages.find(img => img.id === imageId);
  if (!imageData) return;

  currentLightboxIndex = filteredImages.findIndex(img => img.id === imageId);
  if (currentLightboxIndex === -1) {
    currentLightboxIndex = galleryImages.findIndex(img => img.id === imageId);
  }

  updateLightboxContent(imageData);
  document.getElementById('lightbox-modal').style.display = 'flex';
  document.body.style.overflow = 'hidden';
}

// Close lightbox
function closeLightbox() {
  document.getElementById('lightbox-modal').style.display = 'none';
  document.body.style.overflow = '';
}

// Navigate lightbox (prev/next)
function navigateLightbox(direction) {
  const images = filteredImages.length > 0 ? filteredImages : galleryImages;
  currentLightboxIndex += direction;

  if (currentLightboxIndex < 0) {
    currentLightboxIndex = images.length - 1;
  } else if (currentLightboxIndex >= images.length) {
    currentLightboxIndex = 0;
  }

  updateLightboxContent(images[currentLightboxIndex]);
}

// Update lightbox content
function updateLightboxContent(imageData) {
  document.getElementById('lightbox-image').src = imageData.imgSrc;
  document.getElementById('lightbox-image').alt = imageData.title;
  document.getElementById('lightbox-title').textContent = imageData.title;
  document.getElementById('lightbox-description').textContent = imageData.description;
  document.getElementById('lightbox-source').textContent = 'Source: ' + imageData.source;

  const archiveRefEl = document.getElementById('lightbox-archive-ref');
  if (imageData.archiveRef) {
    archiveRefEl.textContent = 'Archive Reference: ' + imageData.archiveRef;
    archiveRefEl.style.display = '';
  } else {
    archiveRefEl.style.display = 'none';
  }

  const contextEl = document.getElementById('lightbox-context');
  if (imageData.context) {
    contextEl.textContent = imageData.context;
    contextEl.style.display = '';
  } else {
    contextEl.style.display = 'none';
  }

  // Update category badge
  const categoryBadge = document.getElementById('lightbox-category');
  categoryBadge.textContent = imageData.category.charAt(0).toUpperCase() + imageData.category.slice(1);
  categoryBadge.className = 'category-badge ' + imageData.category;

  // Update date badge
  const dateBadge = document.getElementById('lightbox-date');
  dateBadge.textContent = imageData.period;

  // Update counter
  const images = filteredImages.length > 0 ? filteredImages : galleryImages;
  document.getElementById('lightbox-current').textContent = currentLightboxIndex + 1;
  document.getElementById('lightbox-total').textContent = images.length;
}

// Keyboard navigation for lightbox
document.addEventListener('keydown', function(e) {
  const modal = document.getElementById('lightbox-modal');
  if (modal.style.display === 'flex') {
    if (e.key === 'Escape') {
      closeLightbox();
    } else if (e.key === 'ArrowLeft') {
      navigateLightbox(-1);
    } else if (e.key === 'ArrowRight') {
      navigateLightbox(1);
    }
  }
});

// Initialize map (placeholder - would use Leaflet.js in production)
function initializeMap() {
  // In production, this would initialize a Leaflet map
  // For now, just show placeholder text
  console.log('Map view initialized - all images located at Port Sulphur Terminal (29.473414, -89.686632)');
}

// Initialize gallery on page load
document.addEventListener('DOMContentLoaded', function() {
  applyFilters();
});
</script>

<!-- Gallery Styles -->
<style>
/* Gallery Controls */
.gallery-controls {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  padding: 1.5rem;
  margin-bottom: 2rem;
}

.filter-group {
  margin-bottom: 1.5rem;
}

.filter-group:last-child {
  margin-bottom: 0;
}

.filter-label {
  display: block;
  font-size: 0.9rem;
  font-weight: 600;
  color: rgba(255, 255, 255, 0.9);
  margin-bottom: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.filter-buttons,
.timeline-controls,
.view-toggle {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.filter-btn,
.timeline-btn,
.view-btn {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.15);
  color: rgba(255, 255, 255, 0.8);
  padding: 0.5rem 1rem;
  border-radius: 6px;
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.filter-btn:hover,
.timeline-btn:hover,
.view-btn:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: #64ffb4;
  color: #64ffb4;
}

.filter-btn.active,
.timeline-btn.active,
.view-btn.active {
  background: #64ffb4;
  border-color: #64ffb4;
  color: #0a0a0a;
  font-weight: 600;
}

.count {
  opacity: 0.7;
  font-size: 0.85rem;
}

.category-icon {
  font-size: 1.1rem;
}

/* Gallery Grid */
.gallery-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 2rem;
  margin-bottom: 2rem;
}

@media (max-width: 768px) {
  .gallery-grid {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }
}

.gallery-item {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  overflow: hidden;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.gallery-item:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
  border-color: #64ffb4;
}

.image-wrapper {
  position: relative;
  width: 100%;
  padding-bottom: 75%; /* 4:3 aspect ratio */
  overflow: hidden;
  cursor: pointer;
  background: #1a1a2e;
}

.image-wrapper img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.image-wrapper:hover img {
  transform: scale(1.05);
}

.image-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(to bottom, rgba(0,0,0,0.5) 0%, transparent 40%);
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
}

.image-wrapper:hover .image-overlay {
  opacity: 1;
}

.image-meta {
  position: absolute;
  top: 1rem;
  left: 1rem;
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.category-badge,
.date-badge {
  padding: 0.25rem 0.75rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.category-badge.historical {
  background: #8B4513;
  color: white;
}

.category-badge.aerial {
  background: #4A90E2;
  color: white;
}

.category-badge.regulatory {
  background: #2ECC71;
  color: white;
}

.date-badge {
  background: rgba(0, 0, 0, 0.7);
  color: white;
}

.image-caption {
  padding: 1.25rem;
}

.image-title {
  font-size: 1.1rem;
  font-weight: 600;
  color: rgba(255, 255, 255, 0.95);
  margin-bottom: 0.5rem;
  line-height: 1.4;
}

.image-description {
  font-size: 0.9rem;
  color: rgba(255, 255, 255, 0.7);
  line-height: 1.6;
  margin-bottom: 0.75rem;
}

.archive-ref {
  display: block;
  margin-top: 0.5rem;
  font-size: 0.85rem;
  font-style: italic;
  color: rgba(255, 255, 255, 0.6);
}

.image-source {
  font-size: 0.85rem;
  color: #64ffb4;
  font-weight: 500;
}

/* Map View */
.gallery-map {
  position: relative;
  margin-bottom: 2rem;
}

.map-container {
  width: 100%;
  height: 600px;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  padding: 2rem;
  text-align: center;
}

.map-placeholder p {
  color: rgba(255, 255, 255, 0.7);
  margin-bottom: 0.5rem;
}

.map-coordinates {
  font-family: 'Courier New', monospace;
  color: #64ffb4;
}

.map-note {
  font-size: 0.9rem;
  font-style: italic;
}

.map-legend {
  margin-top: 1rem;
  padding: 1rem;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 8px;
}

.map-legend h4 {
  font-size: 0.9rem;
  margin-bottom: 0.75rem;
  color: rgba(255, 255, 255, 0.9);
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  margin-bottom: 0.5rem;
  font-size: 0.9rem;
  color: rgba(255, 255, 255, 0.8);
}

.legend-marker {
  width: 16px;
  height: 16px;
  border-radius: 50%;
}

.legend-marker.historical {
  background: #8B4513;
}

.legend-marker.aerial {
  background: #4A90E2;
}

.legend-marker.regulatory {
  background: #2ECC71;
}

/* Results Counter */
.gallery-results {
  text-align: center;
  padding: 1rem;
  color: rgba(255, 255, 255, 0.7);
  font-size: 0.9rem;
}

/* Lightbox */
.lightbox {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 2rem;
}

.lightbox-backdrop {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.95);
  cursor: pointer;
}

.lightbox-content {
  position: relative;
  z-index: 1;
  max-width: 1400px;
  width: 100%;
  max-height: 90vh;
  display: flex;
  gap: 2rem;
  background: #1a1a2e;
  border-radius: 12px;
  overflow: hidden;
}

@media (max-width: 1024px) {
  .lightbox-content {
    flex-direction: column;
    max-height: 95vh;
    overflow-y: auto;
  }
}

.lightbox-close {
  position: absolute;
  top: 1rem;
  right: 1rem;
  z-index: 2;
  background: rgba(0, 0, 0, 0.7);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: white;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
}

.lightbox-close:hover {
  background: #64ffb4;
  color: #0a0a0a;
  border-color: #64ffb4;
}

.lightbox-nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  z-index: 2;
  background: rgba(0, 0, 0, 0.7);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: white;
  width: 48px;
  height: 48px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
}

.lightbox-prev {
  left: 1rem;
}

.lightbox-next {
  right: 1rem;
}

.lightbox-nav:hover {
  background: #64ffb4;
  color: #0a0a0a;
  border-color: #64ffb4;
}

.lightbox-image-container {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #0a0a0a;
  min-height: 400px;
}

.lightbox-image-container img {
  max-width: 100%;
  max-height: 80vh;
  object-fit: contain;
}

.lightbox-info {
  flex: 0 0 400px;
  padding: 2rem;
  background: #1a1a2e;
  overflow-y: auto;
  max-height: 90vh;
}

@media (max-width: 1024px) {
  .lightbox-info {
    flex: 1;
    max-height: none;
  }
}

.lightbox-header {
  margin-bottom: 1.5rem;
}

.lightbox-header h3 {
  font-size: 1.5rem;
  color: rgba(255, 255, 255, 0.95);
  margin-bottom: 1rem;
  line-height: 1.4;
}

.lightbox-badges {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
  margin-bottom: 1rem;
}

.lightbox-info p {
  color: rgba(255, 255, 255, 0.8);
  line-height: 1.6;
  margin-bottom: 1rem;
}

.lightbox-metadata {
  margin-top: 1.5rem;
  padding-top: 1.5rem;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.lightbox-metadata p {
  font-size: 0.9rem;
  color: rgba(255, 255, 255, 0.7);
}

.lightbox-counter {
  margin-top: 1.5rem;
  padding-top: 1.5rem;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  text-align: center;
  font-size: 0.9rem;
  color: rgba(255, 255, 255, 0.6);
}

/* Mobile Responsive */
@media (max-width: 768px) {
  .gallery-controls {
    padding: 1rem;
  }

  .filter-buttons,
  .timeline-controls {
    flex-direction: column;
  }

  .filter-btn,
  .timeline-btn {
    width: 100%;
    justify-content: center;
  }

  .lightbox {
    padding: 0;
  }

  .lightbox-content {
    border-radius: 0;
    max-height: 100vh;
  }

  .lightbox-nav {
    width: 40px;
    height: 40px;
  }

  .lightbox-prev {
    left: 0.5rem;
  }

  .lightbox-next {
    right: 0.5rem;
  }
}
</style>
